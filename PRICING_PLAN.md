# –ü–ª–∞–Ω –≤–Ω–µ–¥—Ä–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã –ø—Ä–∞–π—Å–∏–Ω–≥–∞ Kamelot Academy

## üìã –¢–µ–∫—É—â–∞—è —Å–∏—Ç—É–∞—Ü–∏—è

### –°—É—â–µ—Å—Ç–≤—É—é—â–∏–π –ø—Ä–∞–π—Å (–∏–∑ price.jpg):
- **–ü–†–û–ë–ù–û–ï** - –ë–ï–°–ü–õ–ê–¢–ù–û (1 —Ä–∞–∑)
- **–†–ê–ó–û–í–û–ï** - 900‚ÇΩ
- **8 –¢–†–ï–ù–ò–†–û–í–û–ö** - 5000‚ÇΩ (625‚ÇΩ/—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞)
- **12 –¢–†–ï–ù–ò–†–û–í–û–ö** - 6000‚ÇΩ (500‚ÇΩ/—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞)
- **–ë–ï–ó–õ–ò–ú–ò–¢ –ö –¢–†–ï–ù–ï–†–£** - 7000‚ÇΩ (–ª—é–±—ã–µ –≤–∏–¥—ã –µ–¥–∏–Ω–æ–±–æ—Ä—Å—Ç–≤ —É 1 —Ç—Ä–µ–Ω–µ—Ä–∞)
- **–ü–û–õ–ù–´–ô –ë–ï–ó–õ–ò–ú–ò–¢** - 8000‚ÇΩ (–ª—é–±—ã–µ –≤–∏–¥—ã –µ–¥–∏–Ω–æ–±–æ—Ä—Å—Ç–≤ —É —Ä–∞–∑–Ω—ã—Ö —Ç—Ä–µ–Ω–µ—Ä–æ–≤)

### –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:
- `BookingForm.vue` - —Ñ–æ—Ä–º–∞ –∑–∞–ø–∏—Å–∏ (–∏–º—è, –∫–æ–Ω—Ç–∞–∫—Ç—ã, –≤–æ–∑—Ä–∞—Å—Ç, –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ)
- `MartialArtsCards.vue` - –∫–∞—Ä—Ç–æ—á–∫–∏ –µ–¥–∏–Ω–æ–±–æ—Ä—Å—Ç–≤ (6 –≤–∏–¥–æ–≤)
- `trainers.json` - –¥–∞–Ω–Ω—ã–µ –æ —Ç—Ä–µ–Ω–µ—Ä–∞—Ö (4 —Ç—Ä–µ–Ω–µ—Ä–∞)

---

## üéØ –¶–µ–ª–∏ –ø—Ä–æ–µ–∫—Ç–∞

1. ‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∞–π—Å –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö (Google Sheets)
2. ‚úÖ –°–æ–∑–¥–∞—Ç—å –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –≤ —Ñ–æ—Ä–º–µ –∑–∞–ø–∏—Å–∏
3. ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∞–π—Å —Å –≤—ã–±–æ—Ä–æ–º —Ç—Ä–µ–Ω–µ—Ä–∞ –∏ –µ–¥–∏–Ω–æ–±–æ—Ä—Å—Ç–≤–∞
4. ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ª–æ–≥–∏–∫—É "–ë–µ–∑–ª–∏–º–∏—Ç –∫ —Ç—Ä–µ–Ω–µ—Ä—É" vs "–ü–æ–ª–Ω—ã–π –±–µ–∑–ª–∏–º–∏—Ç"
5. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å —Å–∏—Å—Ç–µ–º—É —É—á–µ—Ç–∞ –ø—Ä–æ–±–Ω—ã—Ö –∑–∞–Ω—è—Ç–∏–π
6. ‚úÖ –û—Ç–æ–±—Ä–∞–∂–∞—Ç—å –∏—Ç–æ–≥–æ–≤—É—é —Å—Ç–æ–∏–º–æ—Å—Ç—å –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π –∑–∞—è–≤–∫–∏

---

## üìä –≠—Ç–∞–ø 1: –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∞–π—Å–∞

### 1.1 –°–æ–∑–¥–∞—Ç—å Google Sheets —Ç–∞–±–ª–∏—Ü—É "Pricing"

**–í–∞–∂–Ω–æ:** –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –ª–∏—Å—Ç –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π —Ç–∞–±–ª–∏—Ü–µ Google Sheets —Å –Ω–∞–∑–≤–∞–Ω–∏–µ–º **"Pricing"**

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–∞–±–ª–∏—Ü—ã (–∑–∞–≥–æ–ª–æ–≤–∫–∏):**

| A | B | C | D | E | F | G | H | I | J |
|---|---|---|---|---|---|---|---|---|---|
| id | name | price | sessions_count | description | type | trainer_limited | trial_allowed | active | valid_days |

**–ü—Ä–∏–º–µ—Ä –¥–∞–Ω–Ω—ã—Ö:**

| id | name | price | sessions_count | description | type | trainer_limited | trial_allowed | active | valid_days |
|----|------|-------|----------------|-------------|------|-----------------|---------------|--------|------------|
| 1 | –ü—Ä–æ–±–Ω–æ–µ | 0 | 1 | –ë–µ—Å–ø–ª–∞—Ç–Ω–æ–µ –ø—Ä–æ–±–Ω–æ–µ –∑–∞–Ω—è—Ç–∏–µ (—Ç–æ–ª—å–∫–æ 1 —Ä–∞–∑) | trial | false | true | true | 1 |
| 2 | –†–∞–∑–æ–≤–æ–µ | 900 | 1 | –†–∞–∑–æ–≤–æ–µ –ø–æ—Å–µ—â–µ–Ω–∏–µ | single | false | false | true | 1 |
| 3 | 8 —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫ | 5000 | 8 | –ê–±–æ–Ω–µ–º–µ–Ω—Ç –Ω–∞ 8 —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫ –¥–ª—è –≤–∑—Ä–æ—Å–ª—ã—Ö | package | false | false | true | 30 |
| 4 | 12 —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫ | 6000 | 12 | –ê–±–æ–Ω–µ–º–µ–Ω—Ç –Ω–∞ 12 —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫ –¥–ª—è –≤–∑—Ä–æ—Å–ª—ã—Ö | package | false | false | true | 30 |
| 5 | –ë–µ–∑–ª–∏–º–∏—Ç –∫ —Ç—Ä–µ–Ω–µ—Ä—É | 7000 | -1 | –ë–µ–∑–ª–∏–º–∏—Ç–Ω—ã–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ —É –æ–¥–Ω–æ–≥–æ —Ç—Ä–µ–Ω–µ—Ä–∞ | unlimited_trainer | true | false | true | 30 |
| 6 | –ü–æ–ª–Ω—ã–π –±–µ–∑–ª–∏–º–∏—Ç | 8000 | -1 | –ë–µ–∑–ª–∏–º–∏—Ç–Ω—ã–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ —É –≤—Å–µ—Ö —Ç—Ä–µ–Ω–µ—Ä–æ–≤ | unlimited_full | false | false | true | 30 |
| 7 | –î–µ—Ç–∏ | 6000 | 12 | –î–µ—Ç—Å–∫–∏–π –∞–±–æ–Ω–µ–º–µ–Ω—Ç –Ω–∞ 12 —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫ | package | false | false | true | 30 |

**–û–ø–∏—Å–∞–Ω–∏–µ –ø–æ–ª–µ–π:**

- **id** - —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä (—á–∏—Å–ª–æ)
- **name** - –Ω–∞–∑–≤–∞–Ω–∏–µ –∞–±–æ–Ω–µ–º–µ–Ω—Ç–∞ (—Ç–µ–∫—Å—Ç)
- **price** - —Ü–µ–Ω–∞ –≤ —Ä—É–±–ª—è—Ö (—á–∏—Å–ª–æ)
- **sessions_count** - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫ (—á–∏—Å–ª–æ, -1 –¥–ª—è –±–µ–∑–ª–∏–º–∏—Ç–∞)
- **description** - –æ–ø–∏—Å–∞–Ω–∏–µ –∞–±–æ–Ω–µ–º–µ–Ω—Ç–∞ (—Ç–µ–∫—Å—Ç)
- **type** - —Ç–∏–ø: `trial`, `single`, `package`, `unlimited_trainer`, `unlimited_full`
- **trainer_limited** - –ø—Ä–∏–≤—è–∑–∫–∞ –∫ –æ–¥–Ω–æ–º—É —Ç—Ä–µ–Ω–µ—Ä—É: `true`/`false` –∏–ª–∏ `1`/`0`
- **trial_allowed** - –º–æ–∂–Ω–æ –ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç–æ –∫–∞–∫ –ø—Ä–æ–±–Ω–æ–µ: `true`/`false`
- **active** - –∞–∫—Ç–∏–≤–µ–Ω –ª–∏ –ø–ª–∞–Ω: `true`/`false` (–Ω–µ–∞–∫—Ç–∏–≤–Ω—ã–µ –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è)
- **valid_days** - —Å—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è –≤ –¥–Ω—è—Ö (—á–∏—Å–ª–æ)

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:**
- –ó–∞–≥–æ–ª–æ–≤–∫–∏ –º–æ–≥—É—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Å–∫–æ–±–∫–∏ –∏ –ø—Ä–æ–±–µ–ª—ã, –æ–Ω–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–æ—Ä–º–∞–ª–∏–∑—É—é—Ç—Å—è
- –ü—Ä–∏–º–µ—Ä: `"Sessions Count (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ)"` ‚Üí –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç—Å—è –≤ `sessions_count`
- –ó–Ω–∞—á–µ–Ω–∏—è `true`/`false` –º–æ–∂–Ω–æ –ø–∏—Å–∞—Ç—å –∫–∞–∫ `1`/`0` –∏–ª–∏ `TRUE`/`FALSE`

---

## üîß –≠—Ç–∞–ø 2: –ë—ç–∫–µ–Ω–¥ - API –¥–ª—è –ø—Ä–∞–π—Å–∞

### 2.1 –î–æ–±–∞–≤–∏—Ç—å —Ç–∏–ø—ã –≤ `types/index.ts`

```typescript
// types/index.ts (–¥–æ–±–∞–≤–∏—Ç—å)

// –¢–∏–ø –∞–±–æ–Ω–µ–º–µ–Ω—Ç–∞
export type PricingType =
  | 'trial'           // –ü—Ä–æ–±–Ω–æ–µ –∑–∞–Ω—è—Ç–∏–µ
  | 'single'          // –†–∞–∑–æ–≤–æ–µ
  | 'package'         // –ê–±–æ–Ω–µ–º–µ–Ω—Ç (8 –∏–ª–∏ 12 —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫)
  | 'unlimited_trainer' // –ë–µ–∑–ª–∏–º–∏—Ç –∫ —Ç—Ä–µ–Ω–µ—Ä—É
  | 'unlimited_full'  // –ü–æ–ª–Ω—ã–π –±–µ–∑–ª–∏–º–∏—Ç

// –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ü–µ–Ω–æ–≤–æ–≥–æ –ø–ª–∞–Ω–∞
export interface PricingPlan {
  id: string;
  name: string;
  price: number;
  sessions_count: number; // -1 –¥–ª—è –±–µ–∑–ª–∏–º–∏—Ç–∞
  description: string;
  type: PricingType;
  trainer_limited: boolean;
  trial_allowed: boolean;
  active: boolean;
  valid_days?: number; // –°—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è –≤ –¥–Ω—è—Ö
  features?: string[]; // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ–∏—á–∏
  discount_percent?: number;
}

// –û—Ç–≤–µ—Ç API –ø—Ä–∞–π—Å–∏–Ω–≥–∞
export interface PricingResponse {
  plans: PricingPlan[];
  total: number;
  source: 'google_sheets';
  lastUpdated: string;
}
```

### 2.2 –°–æ–∑–¥–∞—Ç—å API endpoint: `server/api/pricing.get.ts`

```typescript
// server/api/pricing.get.ts
/**
 * API endpoint –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ü–µ–Ω–æ–≤—ã—Ö –ø–ª–∞–Ω–æ–≤ –∏–∑ Google Sheets
 * –ü–∞—Ç—Ç–µ—Ä–Ω –∏–¥–µ–Ω—Ç–∏—á–µ–Ω fights.get.ts
 */

import type { PricingPlan, PricingResponse } from "~/types";

// –¢–∏–ø—ã –¥–ª—è Google Sheets API v4
interface GoogleSheetsValues {
  values: string[][];
}

export default defineEventHandler(async (event): Promise<PricingResponse> => {
  const config = useRuntimeConfig();
  const { googleSheetsId, googleSheetsApiKey } = config.public;

  if (!googleSheetsId || !googleSheetsApiKey) {
    throw createError({
      statusCode: 500,
      message: 'Google Sheets not configured'
    });
  }

  const plans = await loadPricingFromGoogleSheets(
    googleSheetsId,
    googleSheetsApiKey
  );

  return {
    plans: plans.filter(plan => plan.active),
    total: plans.length,
    source: "google_sheets",
    lastUpdated: new Date().toISOString(),
  };
});

/**
 * –ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–∞–π—Å–∏–Ω–≥–∞ –∏–∑ Google Sheets API v4
 * –ò—Å–ø–æ–ª—å–∑—É–µ–º –ª–∏—Å—Ç "Pricing"
 */
async function loadPricingFromGoogleSheets(
  sheetId: string,
  apiKey: string
): Promise<PricingPlan[]> {
  const sheetName = 'Pricing';
  const range = `${sheetName}!A:M`; // A-M —Å—Ç–æ–ª–±—Ü—ã
  const valuesUrl = `https://sheets.googleapis.com/v4/spreadsheets/${sheetId}/values/${encodeURIComponent(range)}?key=${apiKey}`;

  try {
    const data = await $fetch<GoogleSheetsValues>(valuesUrl);
    const rows = data.values || [];

    if (rows.length < 2) {
      console.warn('Pricing sheet is empty or has no data rows');
      return [];
    }

    const headers = rows[0];
    const dataRows = rows.slice(1);

    if (!headers) {
      console.error('No headers found in Pricing sheet');
      return [];
    }

    // –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ–º —Å—Ç—Ä–æ–∫–∏ –≤ –æ–±—ä–µ–∫—Ç—ã
    const plans = dataRows
      .filter((row): row is string[] => row && row.length > 0)
      .map(row => rowToPricingPlan(headers, row))
      .filter((plan): plan is PricingPlan => plan !== null);

    return plans;
  } catch (error) {
    console.error('Error loading Pricing sheet:', error);
    throw createError({
      statusCode: 500,
      message: 'Failed to load pricing data'
    });
  }
}

/**
 * –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ —Å—Ç—Ä–æ–∫–∏ –∏–∑ Google Sheets –≤ –æ–±—ä–µ–∫—Ç PricingPlan
 */
function rowToPricingPlan(headers: string[], row: string[]): PricingPlan | null {
  // –°–æ–∑–¥–∞—ë–º –æ–±—ä–µ–∫—Ç –∏–∑ headers –∏ row
  const data: Record<string, string> = {};
  headers.forEach((header, i) => {
    // –ù–æ—Ä–º–∞–ª–∏–∑—É–µ–º –∫–ª—é—á: —É–±–∏—Ä–∞–µ–º —Å–∫–æ–±–∫–∏, lowercase, –∑–∞–º–µ–Ω—è–µ–º –ø—Ä–æ–±–µ–ª—ã
    const key = header
      .trim()
      .toLowerCase()
      .replace(/\(.*?\)/g, '') // –£–±–∏—Ä–∞–µ–º —Ç–µ–∫—Å—Ç –≤ —Å–∫–æ–±–∫–∞—Ö
      .replace(/\s+/g, '_')    // –ó–∞–º–µ–Ω—è–µ–º –ø—Ä–æ–±–µ–ª—ã –Ω–∞ _
      .replace(/_+$/g, '');    // –£–±–∏—Ä–∞–µ–º trailing _
    const value = row[i]?.trim();
    if (value && value !== '-') {
      data[key] = value;
    }
  });

  // –ü—Ä–æ–≤–µ—Ä—è–µ–º –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è
  if (!data.name || !data.price || !data.type) {
    return null;
  }

  // –ü–∞—Ä—Å–∏–º features –∏–∑ JSON –∏–ª–∏ comma-separated
  let features: string[] = [];
  if (data.features) {
    try {
      features = JSON.parse(data.features);
    } catch {
      features = data.features.split(',').map(f => f.trim());
    }
  }

  // –í–æ–∑–≤—Ä–∞—â–∞–µ–º –æ–±—ä–µ–∫—Ç
  return {
    id: data.id || String(Math.random()),
    name: data.name,
    price: Number(data.price) || 0,
    sessions_count: Number(data.sessions_count) || -1,
    description: data.description || '',
    type: (data.type || 'single') as any,
    trainer_limited: data.trainer_limited === 'true' || data.trainer_limited === '1',
    trial_allowed: data.trial_allowed === 'true' || data.trial_allowed === '1',
    active: data.active === 'true' || data.active === '1',
    valid_days: data.valid_days ? Number(data.valid_days) : undefined,
    features: features.length > 0 ? features : undefined,
    discount_percent: data.discount_percent ? Number(data.discount_percent) : undefined,
  };
}
```

### 2.3 –°–æ–∑–¥–∞—Ç—å composable: `composables/usePricing.ts`

```typescript
// composables/usePricing.ts
import type { PricingPlan, PricingResponse } from '~/types'

export const usePricing = () => {
  const pricingPlans = useState<PricingPlan[]>('pricingPlans', () => [])
  const selectedPlan = useState<PricingPlan | null>('selectedPlan', () => null)
  const selectedTrainerId = useState<number | null>('selectedTrainerId', () => null)
  const isLoading = useState<boolean>('pricingLoading', () => false)
  const error = useState<string | null>('pricingError', () => null)

  // –ó–∞–≥—Ä—É–∑–∏—Ç—å –ø–ª–∞–Ω—ã –∏–∑ API
  const fetchPricingPlans = async () => {
    if (pricingPlans.value.length > 0) {
      return pricingPlans.value // –ö–µ—à
    }

    isLoading.value = true
    error.value = null

    try {
      const response = await $fetch<PricingResponse>('/api/pricing')
      pricingPlans.value = response.plans
      return response.plans
    } catch (e: any) {
      error.value = e.message || 'Failed to load pricing plans'
      console.error('Error fetching pricing plans:', e)
      return []
    } finally {
      isLoading.value = false
    }
  }

  // –í—ã–±—Ä–∞—Ç—å –ø–ª–∞–Ω
  const setSelectedPlan = (plan: PricingPlan | null) => {
    selectedPlan.value = plan

    // –ï—Å–ª–∏ —ç—Ç–æ –Ω–µ "–ë–µ–∑–ª–∏–º–∏—Ç –∫ —Ç—Ä–µ–Ω–µ—Ä—É", –æ—á–∏—â–∞–µ–º –≤—ã–±–æ—Ä —Ç—Ä–µ–Ω–µ—Ä–∞
    if (plan?.type !== 'unlimited_trainer') {
      selectedTrainerId.value = null
    }
  }

  // –í—ã–±—Ä–∞—Ç—å —Ç—Ä–µ–Ω–µ—Ä–∞ (–¥–ª—è "–ë–µ–∑–ª–∏–º–∏—Ç –∫ —Ç—Ä–µ–Ω–µ—Ä—É")
  const setSelectedTrainerId = (trainerId: number | null) => {
    selectedTrainerId.value = trainerId
  }

  // –†–∞—Å—Å—á–∏—Ç–∞—Ç—å —Ü–µ–Ω—É –∑–∞ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É
  const calculatePricePerSession = (plan: PricingPlan) => {
    if (plan.sessions_count <= 0) return null
    return Math.round(plan.price / plan.sessions_count)
  }

  // –†–∞—Å—Å—á–∏—Ç–∞—Ç—å —ç–∫–æ–Ω–æ–º–∏—é –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å —Ä–∞–∑–æ–≤—ã–º–∏
  const calculateSavings = (plan: PricingPlan) => {
    if (plan.type === 'single' || plan.sessions_count <= 0) return 0
    const singlePrice = 900
    const wouldPay = singlePrice * plan.sessions_count
    return wouldPay - plan.price
  }

  // –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª –ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—Ä–æ–±–Ω–æ–µ –∑–∞–Ω—è—Ç–∏–µ
  const checkTrialUsed = (phoneNumber: string): boolean => {
    if (process.client) {
      const key = `trial_used_${phoneNumber.replace(/\D/g, '')}`
      return !!localStorage.getItem(key)
    }
    return false
  }

  // –û—Ç–º–µ—Ç–∏—Ç—å –ø—Ä–æ–±–Ω–æ–µ –∑–∞–Ω—è—Ç–∏–µ –∫–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω–æ–µ
  const markTrialAsUsed = (phoneNumber: string) => {
    if (process.client) {
      const key = `trial_used_${phoneNumber.replace(/\D/g, '')}`
      localStorage.setItem(key, new Date().toISOString())
    }
  }

  // –ü–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ã–µ –ø–ª–∞–Ω—ã (—Ñ–∏–ª—å—Ç—Ä—É–µ–º –ø—Ä–æ–±–Ω–æ–µ –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–æ)
  const getAvailablePlans = (phoneNumber?: string) => {
    let plans = pricingPlans.value

    // –ï—Å–ª–∏ –Ω–æ–º–µ—Ä —É–∫–∞–∑–∞–Ω, –ø—Ä–æ–≤–µ—Ä—è–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–±–Ω–æ–≥–æ
    if (phoneNumber && checkTrialUsed(phoneNumber)) {
      plans = plans.filter(p => p.type !== 'trial')
    }

    return plans
  }

  // –û—á–∏—Å—Ç–∏—Ç—å –≤—ã–±—Ä–∞–Ω–Ω—ã–π –ø–ª–∞–Ω
  const clearSelection = () => {
    selectedPlan.value = null
    selectedTrainerId.value = null
  }

  return {
    // State
    pricingPlans,
    selectedPlan,
    selectedTrainerId,
    isLoading,
    error,

    // Methods
    fetchPricingPlans,
    setSelectedPlan,
    setSelectedTrainerId,
    calculatePricePerSession,
    calculateSavings,
    checkTrialUsed,
    markTrialAsUsed,
    getAvailablePlans,
    clearSelection,
  }
}
```

---

## üé® –≠—Ç–∞–ø 3: –§—Ä–æ–Ω—Ç–µ–Ω–¥ - –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —Ü–µ–Ω

### 3.1 –°–æ–∑–¥–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç: `components/PricingCalculator.vue`

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤—Å–µ—Ö –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∞–±–æ–Ω–µ–º–µ–Ω—Ç–æ–≤
- –í–∏–∑—É–∞–ª—å–Ω—ã–π –≤—ã–±–æ—Ä –∞–±–æ–Ω–µ–º–µ–Ω—Ç–∞ (–∫–∞—Ä—Ç–æ—á–∫–∏)
- –†–∞—Å—á–µ—Ç —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —ç–∫–æ–Ω–æ–º–∏–∏ (–¥–ª—è –∞–±–æ–Ω–µ–º–µ–Ω—Ç–æ–≤)
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —É—Å–ª–æ–≤–∏–π (–¥–ª—è –±–µ–∑–ª–∏–º–∏—Ç–æ–≤)
- –ü–æ–¥—Å–≤–µ—Ç–∫–∞ –ª—É—á—à–µ–≥–æ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞:**
```vue
<template>
  <div class="pricing-calculator">
    <h3>–í—ã–±–µ—Ä–∏—Ç–µ –∞–±–æ–Ω–µ–º–µ–Ω—Ç</h3>

    <!-- –°–µ—Ç–∫–∞ –∫–∞—Ä—Ç–æ—á–µ–∫ –ø—Ä–∞–π—Å–∞ -->
    <div class="pricing-grid">
      <PricingCard
        v-for="plan in availablePlans"
        :key="plan.id"
        :plan="plan"
        :selected="selectedPlanId === plan.id"
        @select="selectPlan"
      />
    </div>

    <!-- –ò—Ç–æ–≥–æ–≤–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å -->
    <div class="pricing-summary">
      <div class="total-price">
        <span>–ò—Ç–æ–≥–æ:</span>
        <span class="price">{{ selectedPlan?.price || 0 }} ‚ÇΩ</span>
      </div>
      <div v-if="savings > 0" class="savings">
        –≠–∫–æ–Ω–æ–º–∏—è: {{ savings }} ‚ÇΩ
      </div>
    </div>
  </div>
</template>
```

### 3.2 –°–æ–∑–¥–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç: `components/PricingCard.vue`

**–í–∏–∑—É–∞–ª:**
- –ù–∞–∑–≤–∞–Ω–∏–µ –∞–±–æ–Ω–µ–º–µ–Ω—Ç–∞
- –¶–µ–Ω–∞ (–∫—Ä—É–ø–Ω–æ)
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫ –∏–ª–∏ "–ë–µ–∑–ª–∏–º–∏—Ç"
- –û–ø–∏—Å–∞–Ω–∏–µ
- –ë–µ–π–¥–∂–∏ —Å –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—è–º–∏
- –°—Ç–æ–∏–º–æ—Å—Ç—å –∑–∞ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É (–¥–ª—è –ø–∞–∫–µ—Ç–æ–≤)
- –ö–Ω–æ–ø–∫–∞ "–í—ã–±—Ä–∞—Ç—å"

---

## üîÑ –≠—Ç–∞–ø 4: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Ñ–æ—Ä–º–æ–π –∑–∞–ø–∏—Å–∏

### 4.1 –ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å `BookingForm.vue`

**–î–æ–±–∞–≤–∏—Ç—å:**
1. –°–µ–∫—Ü–∏—é –≤—ã–±–æ—Ä–∞ –∞–±–æ–Ω–µ–º–µ–Ω—Ç–∞ (–ø–æ—Å–ª–µ –≤—ã–±–æ—Ä–∞ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è)
2. –£—Å–ª–æ–≤–Ω—É—é –ª–æ–≥–∏–∫—É –¥–ª—è –≤—ã–±–æ—Ä–∞ —Ç—Ä–µ–Ω–µ—Ä–∞ (—Ç–æ–ª—å–∫–æ –¥–ª—è –±–µ–∑–ª–∏–º–∏—Ç–∞ –∫ —Ç—Ä–µ–Ω–µ—Ä—É)
3. –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏—Ç–æ–≥–æ–≤–æ–π —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π
4. –í–∞–ª–∏–¥–∞—Ü–∏—é –≤—ã–±–æ—Ä–∞ –∞–±–æ–Ω–µ–º–µ–Ω—Ç–∞

**–ù–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–æ—Ä–º—ã:**
```
1. –ö–∞—Ç–µ–≥–æ—Ä–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–ø–æ–¥—Ä–æ—Å—Ç–æ–∫/—Ä–æ–¥–∏—Ç–µ–ª—å/–≤–∑—Ä–æ—Å–ª—ã–π) ‚úÖ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
2. –û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è (–∏–º—è, –∫–æ–Ω—Ç–∞–∫—Ç—ã, –≤–æ–∑—Ä–∞—Å—Ç) ‚úÖ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
3. –ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫ ‚úÖ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
4. üÜï –í—ã–±–æ—Ä –∞–±–æ–Ω–µ–º–µ–Ω—Ç–∞ (–Ω–æ–≤–∞—è —Å–µ–∫—Ü–∏—è)
5. üÜï –í—ã–±–æ—Ä —Ç—Ä–µ–Ω–µ—Ä–∞ (–µ—Å–ª–∏ "–ë–µ–∑–ª–∏–º–∏—Ç –∫ —Ç—Ä–µ–Ω–µ—Ä—É")
6. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –æ–ø—Ü–∏–∏ (–ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏) ‚úÖ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
7. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è ‚úÖ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
8. üÜï –ò—Ç–æ–≥–æ–≤–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å (–Ω–æ–≤—ã–π –±–ª–æ–∫)
9. –°–æ–≥–ª–∞—Å–∏–µ —Å —É—Å–ª–æ–≤–∏—è–º–∏ ‚úÖ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
```

### 4.2 –û–±–Ω–æ–≤–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Ñ–æ—Ä–º—ã

```typescript
const state = reactive({
  // ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø–æ–ª—è
  selectedPlanId: null,
  selectedTrainerId: null, // —Ç–æ–ª—å–∫–æ –¥–ª—è "–ë–µ–∑–ª–∏–º–∏—Ç –∫ —Ç—Ä–µ–Ω–µ—Ä—É"
  totalPrice: 0,
  hasUsedTrial: false
})
```

---

## üßÆ –≠—Ç–∞–ø 5: –õ–æ–≥–∏–∫–∞ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞

### 5.1 –ü—Ä–∞–≤–∏–ª–∞ —Ä–∞—Å—á–µ—Ç–∞

1. **–ü—Ä–æ–±–Ω–æ–µ –∑–∞–Ω—è—Ç–∏–µ:**
   - –î–æ—Å—Ç—É–ø–Ω–æ —Ç–æ–ª—å–∫–æ 1 —Ä–∞–∑ –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ localStorage –∏–ª–∏ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
   - –ë–µ—Å–ø–ª–∞—Ç–Ω–æ (0‚ÇΩ)

2. **–†–∞–∑–æ–≤–æ–µ:**
   - 900‚ÇΩ
   - –ë–µ–∑ –ø—Ä–∏–≤—è–∑–∫–∏ –∫ —Ç—Ä–µ–Ω–µ—Ä—É

3. **–ê–±–æ–Ω–µ–º–µ–Ω—Ç—ã (8/12 —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫):**
   - –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Ü–µ–Ω–∞
   - –ú–æ–∂–Ω–æ –ø–æ—Å–µ—â–∞—Ç—å —Ä–∞–∑–Ω—ã–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è
   - –°—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è 30 –¥–Ω–µ–π

4. **–ë–µ–∑–ª–∏–º–∏—Ç –∫ —Ç—Ä–µ–Ω–µ—Ä—É:**
   - 7000‚ÇΩ
   - –¢—Ä–µ–±—É–µ—Ç –≤—ã–±–æ—Ä–∞ —Ç—Ä–µ–Ω–µ—Ä–∞
   - –ú–æ–∂–Ω–æ —Ö–æ–¥–∏—Ç—å –Ω–∞ –≤—Å–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è —ç—Ç–æ–≥–æ —Ç—Ä–µ–Ω–µ—Ä–∞
   - –ü–æ–∫–∞–∑–∞—Ç—å —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–π —Ç—Ä–µ–Ω–µ—Ä–∞

5. **–ü–æ–ª–Ω—ã–π –±–µ–∑–ª–∏–º–∏—Ç:**
   - 8000‚ÇΩ
   - –í—Å–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è, –≤—Å–µ —Ç—Ä–µ–Ω–µ—Ä—ã
   - –ë–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π

### 5.2 –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

```typescript
// –†–∞—Å—Å—á–∏—Ç–∞—Ç—å —Å—Ç–æ–∏–º–æ—Å—Ç—å –∑–∞ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É
const calculatePricePerSession = (plan) => {
  if (plan.sessionsCount <= 0) return null
  return Math.round(plan.price / plan.sessionsCount)
}

// –†–∞—Å—Å—á–∏—Ç–∞—Ç—å —ç–∫–æ–Ω–æ–º–∏—é
const calculateSavings = (plan) => {
  if (plan.type === 'single') return 0
  const singlePrice = 900
  const wouldPay = singlePrice * plan.sessionsCount
  return wouldPay - plan.price
}

// –ü–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ã–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–ª—è —Ç—Ä–µ–Ω–µ—Ä–∞
const getTrainerSpecializations = (trainerId) => {
  const trainer = trainers.find(t => t.id === trainerId)
  return trainer?.specializations || []
}

// –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–±–Ω–æ–≥–æ –∑–∞–Ω—è—Ç–∏—è
const checkTrialUsage = (userContact) => {
  // –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ localStorage –∏–ª–∏ —á–µ—Ä–µ–∑ API
  const usedTrial = localStorage.getItem(`trial_used_${userContact}`)
  return !!usedTrial
}
```

---

## üì± –≠—Ç–∞–ø 6: UI/UX —É–ª—É—á—à–µ–Ω–∏—è

### 6.1 –í–∏–∑—É–∞–ª—å–Ω—ã–µ –ø–æ–¥—Å–∫–∞–∑–∫–∏

1. **–ë–µ–π–¥–∂ "–õ—É—á—à–µ–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ"** –Ω–∞ 12 —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞—Ö
2. **–ë–µ–π–¥–∂ "–ü–æ–ø—É–ª—è—Ä–Ω—ã–π"** –Ω–∞ –ë–µ–∑–ª–∏–º–∏—Ç–µ –∫ —Ç—Ä–µ–Ω–µ—Ä—É
3. **–ò–∫–æ–Ω–∫–∞ "üéÅ –ë–µ—Å–ø–ª–∞—Ç–Ω–æ"** –Ω–∞ –ø—Ä–æ–±–Ω–æ–º
4. **–ü—Ä–æ–≥—Ä–µ—Å—Å –±–∞—Ä** –ø–æ–∫–∞–∑—ã–≤–∞—é—â–∏–π —ç–∫–æ–Ω–æ–º–∏—é

### 6.2 –£—Å–ª–æ–≤–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ

```vue
<!-- –ü–æ–∫–∞–∑–∞—Ç—å –≤—ã–±–æ—Ä —Ç—Ä–µ–Ω–µ—Ä–∞ —Ç–æ–ª—å–∫–æ –¥–ª—è "–ë–µ–∑–ª–∏–º–∏—Ç –∫ —Ç—Ä–µ–Ω–µ—Ä—É" -->
<div v-if="selectedPlan?.type === 'unlimited_trainer'">
  <h3>–í—ã–±–µ—Ä–∏—Ç–µ —Ç—Ä–µ–Ω–µ—Ä–∞</h3>
  <TrainerSelector @select="selectTrainer" />

  <!-- –ü–æ–∫–∞–∑–∞—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ã–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è -->
  <div class="available-specializations">
    <span>–î–æ—Å—Ç—É–ø–Ω—ã–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è:</span>
    <UBadge v-for="spec in trainerSpecializations" :key="spec">
      {{ getSpecializationName(spec) }}
    </UBadge>
  </div>
</div>
```

### 6.3 –ò—Ç–æ–≥–æ–≤—ã–π –±–ª–æ–∫ –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π

```vue
<div class="booking-summary">
  <h3>–ò—Ç–æ–≥–æ –∫ –æ–ø–ª–∞—Ç–µ</h3>
  <div class="summary-item">
    <span>–ê–±–æ–Ω–µ–º–µ–Ω—Ç:</span>
    <span>{{ selectedPlan.name }}</span>
  </div>
  <div v-if="selectedTrainer" class="summary-item">
    <span>–¢—Ä–µ–Ω–µ—Ä:</span>
    <span>{{ selectedTrainer.firstName }} {{ selectedTrainer.lastName }}</span>
  </div>
  <div class="summary-total">
    <span>–ò–¢–û–ì–û:</span>
    <span class="total-amount">{{ totalPrice }} ‚ÇΩ</span>
  </div>
</div>
```

---

## üîó –≠—Ç–∞–ø 7: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å MartialArtsCards

### 7.1 –ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –∫–∞—Ä—Ç–æ—á–∫–∏ –µ–¥–∏–Ω–æ–±–æ—Ä—Å—Ç–≤

**–î–æ–±–∞–≤–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é:**
- –°–ø–∏—Å–æ–∫ —Ç—Ä–µ–Ω–µ—Ä–æ–≤ –ø–æ —ç—Ç–æ–º—É –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—é
- –ë–∞–∑–æ–≤–∞—è —Ü–µ–Ω–∞ (–æ—Ç 625‚ÇΩ/–∑–∞–Ω—è—Ç–∏–µ)
- –°—Å—ã–ª–∫–∞ –Ω–∞ –ø—Ä–∞–π—Å

```vue
<div class="pricing-info">
  <span class="from-price">–æ—Ç {{ calculateMinPrice() }}‚ÇΩ</span>
  <UButton @click="showPricingModal">–í—ã–±—Ä–∞—Ç—å –∞–±–æ–Ω–µ–º–µ–Ω—Ç</UButton>
</div>
```

---

## üì§ –≠—Ç–∞–ø 8: –û–±–Ω–æ–≤–∏—Ç—å –æ—Ç–ø—Ä–∞–≤–∫—É –∑–∞—è–≤–∫–∏

### 8.1 –ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å `/api/booking.post.ts`

**–î–æ–±–∞–≤–∏—Ç—å –≤ —Å–æ–æ–±—â–µ–Ω–∏–µ Telegram:**
```typescript
const message = `
ü•ä –ù–æ–≤–∞—è –∑–∞—è–≤–∫–∞ –Ω–∞ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É

üë§ –ö–ª–∏–µ–Ω—Ç: ${data.firstName} ${data.lastName}
üìû –ö–æ–Ω—Ç–∞–∫—Ç: ${data.contact} (${data.contactMethod})
üéØ –ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: ${data.trainingType}

üí≥ –ê–±–æ–Ω–µ–º–µ–Ω—Ç: ${data.selectedPlan.name}
üí∞ –°—Ç–æ–∏–º–æ—Å—Ç—å: ${data.totalPrice}‚ÇΩ
${data.selectedTrainer ? `üë®‚Äçüè´ –¢—Ä–µ–Ω–µ—Ä: ${data.selectedTrainer.firstName} ${data.selectedTrainer.lastName}` : ''}

üìù –î–æ–ø. –∏–Ω—Ñ–æ: ${data.additionalInfo || '–ù–µ—Ç'}
`
```

---

## üß™ –≠—Ç–∞–ø 9: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### 9.1 –°—Ü–µ–Ω–∞—Ä–∏–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

1. ‚úÖ –í—ã–±–æ—Ä –ø—Ä–æ–±–Ω–æ–≥–æ –∑–∞–Ω—è—Ç–∏—è (–ø–µ—Ä–≤—ã–π —Ä–∞–∑)
2. ‚úÖ –ü–æ–ø—ã—Ç–∫–∞ –≤—ã–±—Ä–∞—Ç—å –ø—Ä–æ–±–Ω–æ–µ –∑–∞–Ω—è—Ç–∏–µ –ø–æ–≤—Ç–æ—Ä–Ω–æ (–¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –æ—à–∏–±–∫–∞)
3. ‚úÖ –í—ã–±–æ—Ä —Ä–∞–∑–æ–≤–æ–≥–æ –ø–æ—Å–µ—â–µ–Ω–∏—è
4. ‚úÖ –í—ã–±–æ—Ä –∞–±–æ–Ω–µ–º–µ–Ω—Ç–∞ 8 —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫
5. ‚úÖ –í—ã–±–æ—Ä –∞–±–æ–Ω–µ–º–µ–Ω—Ç–∞ 12 —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫
6. ‚úÖ –í—ã–±–æ—Ä "–ë–µ–∑–ª–∏–º–∏—Ç –∫ —Ç—Ä–µ–Ω–µ—Ä—É" ‚Üí –≤—ã–±–æ—Ä —Ç—Ä–µ–Ω–µ—Ä–∞ ‚Üí –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–π
7. ‚úÖ –í—ã–±–æ—Ä "–ü–æ–ª–Ω—ã–π –±–µ–∑–ª–∏–º–∏—Ç" ‚Üí –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤—Å–µ—Ö –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–π
8. ‚úÖ –†–∞—Å—á–µ—Ç –∏—Ç–æ–≥–æ–≤–æ–π —Å—Ç–æ–∏–º–æ—Å—Ç–∏
9. ‚úÖ –û—Ç–ø—Ä–∞–≤–∫–∞ –∑–∞—è–≤–∫–∏ —Å –ø–æ–ª–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ –ø—Ä–∞–π—Å–µ

---

## üìã –≠—Ç–∞–ø 10: –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ–∏—á–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### 10.1 –ü—Ä–æ–º–æ–∫–æ–¥—ã –∏ —Å–∫–∏–¥–∫–∏
- –ü–æ–ª–µ –≤–≤–æ–¥–∞ –ø—Ä–æ–º–æ–∫–æ–¥–∞
- –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Å–∫–∏–¥–∫–∏ –∫ –≤—ã–±—Ä–∞–Ω–Ω–æ–º—É –∞–±–æ–Ω–µ–º–µ–Ω—Ç—É
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ñ–∏–Ω–∞–ª—å–Ω–æ–π —Ü–µ–Ω—ã —Å–æ —Å–∫–∏–¥–∫–æ–π

### 10.2 –ò—Å—Ç–æ—Ä–∏—è –ø–æ–∫—É–ø–æ–∫
- –•—Ä–∞–Ω–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ –∞–±–æ–Ω–µ–º–µ–Ω—Ç–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω–æ–≥–æ –ø—Ä–æ–±–Ω–æ–≥–æ
- –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∏—Å—Ç–æ—Ä–∏–∏

### 10.3 –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ–± –æ–∫–æ–Ω—á–∞–Ω–∏–∏ –∞–±–æ–Ω–µ–º–µ–Ω—Ç–∞
- Email/SMS –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ –∑–∞ 3 –¥–Ω—è –¥–æ –æ–∫–æ–Ω—á–∞–Ω–∏—è
- –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –ø—Ä–æ–¥–ª–µ–Ω–∏—è —Å–æ —Å–∫–∏–¥–∫–æ–π

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
frontend/
‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îú‚îÄ‚îÄ BookingForm.vue (–º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å)
‚îÇ   ‚îú‚îÄ‚îÄ MartialArtsCards.vue (–º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å)
‚îÇ   ‚îú‚îÄ‚îÄ PricingCalculator.vue (—Å–æ–∑–¥–∞—Ç—å)
‚îÇ   ‚îú‚îÄ‚îÄ PricingCard.vue (—Å–æ–∑–¥–∞—Ç—å)
‚îÇ   ‚îî‚îÄ‚îÄ TrainerSelector.vue (—Å–æ–∑–¥–∞—Ç—å)
‚îú‚îÄ‚îÄ composables/
‚îÇ   ‚îî‚îÄ‚îÄ usePricing.ts (—Å–æ–∑–¥–∞—Ç—å)
‚îú‚îÄ‚îÄ server/
‚îÇ   ‚îî‚îÄ‚îÄ api/
‚îÇ       ‚îî‚îÄ‚îÄ pricing.get.ts (—Å–æ–∑–¥–∞—Ç—å)
‚îú‚îÄ‚îÄ types/
‚îÇ   ‚îî‚îÄ‚îÄ index.ts (–¥–æ–±–∞–≤–∏—Ç—å —Ç–∏–ø—ã –¥–ª—è –ø—Ä–∞–π—Å–∞)
‚îî‚îÄ‚îÄ public/
    ‚îî‚îÄ‚îÄ data/
        ‚îî‚îÄ‚îÄ trainers.json (–º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å - –¥–æ–±–∞–≤–∏—Ç—å —Å–≤—è–∑—å —Å —Ü–µ–Ω–∞–º–∏)
```

---

## ‚úÖ –ß–µ–∫–ª–∏—Å—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

### –§–∞–∑–∞ 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ (1-2 —á–∞—Å–∞)
- [ ] –°–æ–∑–¥–∞—Ç—å Google Sheets —Ç–∞–±–ª–∏—Ü—É "Pricing"
- [ ] –ó–∞–ø–æ–ª–Ω–∏—Ç—å —Ç–∞–±–ª–∏—Ü—É –¥–∞–Ω–Ω—ã–º–∏ –∏–∑ price.jpg
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ Google Sheets API
- [ ] –î–æ–±–∞–≤–∏—Ç—å Sheet ID –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

### –§–∞–∑–∞ 2: Backend (2-3 —á–∞—Å–∞)
- [ ] –°–æ–∑–¥–∞—Ç—å `/api/pricing.get.ts`
- [ ] –°–æ–∑–¥–∞—Ç—å `usePricing.ts` composable
- [ ] –î–æ–±–∞–≤–∏—Ç—å TypeScript —Ç–∏–ø—ã –¥–ª—è –ø—Ä–∞–π—Å–∞
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å API endpoint

### –§–∞–∑–∞ 3: UI Components (3-4 —á–∞—Å–∞)
- [ ] –°–æ–∑–¥–∞—Ç—å `PricingCalculator.vue`
- [ ] –°–æ–∑–¥–∞—Ç—å `PricingCard.vue`
- [ ] –°–æ–∑–¥–∞—Ç—å `TrainerSelector.vue`
- [ ] –°—Ç–∏–ª–∏–∑–æ–≤–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### –§–∞–∑–∞ 4: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è (2-3 —á–∞—Å–∞)
- [ ] –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –≤ `BookingForm.vue`
- [ ] –î–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏–∫—É –≤—ã–±–æ—Ä–∞ —Ç—Ä–µ–Ω–µ—Ä–∞
- [ ] –û–±–Ω–æ–≤–∏—Ç—å `MartialArtsCards.vue`
- [ ] –î–æ–±–∞–≤–∏—Ç—å –∏—Ç–æ–≥–æ–≤—ã–π –±–ª–æ–∫ —Å—Ç–æ–∏–º–æ—Å—Ç–∏

### –§–∞–∑–∞ 5: –õ–æ–≥–∏–∫–∞ (2-3 —á–∞—Å–∞)
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –ø—Ä–æ–±–Ω–æ–≥–æ –∑–∞–Ω—è—Ç–∏—è
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ä–∞—Å—á–µ—Ç —ç–∫–æ–Ω–æ–º–∏–∏
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —É—Å–ª–æ–≤–Ω—É—é –ª–æ–≥–∏–∫—É –¥–ª—è –±–µ–∑–ª–∏–º–∏—Ç–æ–≤
- [ ] –î–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é –≤—ã–±–æ—Ä–∞ –ø—Ä–∞–π—Å–∞

### –§–∞–∑–∞ 6: –û—Ç–ø—Ä–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö (1-2 —á–∞—Å–∞)
- [ ] –û–±–Ω–æ–≤–∏—Ç—å `/api/booking.post.ts`
- [ ] –û–±–Ω–æ–≤–∏—Ç—å —Ñ–æ—Ä–º–∞—Ç —Å–æ–æ–±—â–µ–Ω–∏—è –≤ Telegram
- [ ] –î–æ–±–∞–≤–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø—Ä–∞–π—Å–µ –≤ –∑–∞—è–≤–∫—É

### –§–∞–∑–∞ 7: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (2-3 —á–∞—Å–∞)
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –º–æ–±–∏–ª—å–Ω—É—é –≤–µ—Ä—Å–∏—é
- [ ] –ò—Å–ø—Ä–∞–≤–∏—Ç—å –±–∞–≥–∏
- [ ] –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –§–∞–∑–∞ 8: –î–µ–ø–ª–æ–π (1 —á–∞—Å)
- [ ] –ó–∞–¥–µ–ø–ª–æ–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å production
- [ ] –û—á–∏—Å—Ç–∏—Ç—å –∫—ç—à CDN

---

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

### –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:

1. **–ü—Ä–æ–±–Ω–æ–µ –∑–∞–Ω—è—Ç–∏–µ:**
   - –•—Ä–∞–Ω–∏—Ç—å –≤ localStorage: `trial_used_${phoneNumber}`
   - –ü—Ä–∏ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–∏ —Ñ–æ—Ä–º—ã –ø—Ä–æ–≤–µ—Ä—è—Ç—å –Ω–∞–ª–∏—á–∏–µ —ç—Ç–æ–≥–æ –∫–ª—é—á–∞
   - –ï—Å–ª–∏ –∫–ª—é—á —Å—É—â–µ—Å—Ç–≤—É–µ—Ç - —Å–∫—Ä—ã—Ç—å "–ü—Ä–æ–±–Ω–æ–µ" –∏–∑ —Å–ø–∏—Å–∫–∞

2. **–ë–µ–∑–ª–∏–º–∏—Ç –∫ —Ç—Ä–µ–Ω–µ—Ä—É:**
   - –ü—Ä–∏ –≤—ã–±–æ—Ä–µ –ø–æ–∫–∞–∑–∞—Ç—å —Å–µ–ª–µ–∫—Ç–æ—Ä —Ç—Ä–µ–Ω–µ—Ä–æ–≤
   - –§–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å —Ç—Ä–µ–Ω–µ—Ä–æ–≤ –ø–æ –≤—ã–±—Ä–∞–Ω–Ω–æ–º—É –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—é (–µ—Å–ª–∏ –µ—Å—Ç—å)
   - –û—Ç–æ–±—Ä–∞–∑–∏—Ç—å –≤—Å–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ —Ç—Ä–µ–Ω–µ—Ä–∞

3. **–ü–æ–ª–Ω—ã–π –±–µ–∑–ª–∏–º–∏—Ç:**
   - –ù–µ —Ç—Ä–µ–±—É–µ—Ç –≤—ã–±–æ—Ä–∞ —Ç—Ä–µ–Ω–µ—Ä–∞
   - –ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è
   - –°–∞–º—ã–π –¥–æ—Ä–æ–≥–æ–π –≤–∞—Ä–∏–∞–Ω—Ç

4. **–ú–æ–±–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è:**
   - –ö–∞—Ä—Ç–æ—á–∫–∏ –ø—Ä–∞–π—Å–∞ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–º–∏
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å swiper –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤
   - –ö–Ω–æ–ø–∫–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –±–æ–ª—å—à–∏–º–∏

---

## üöÄ –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

–ü–æ—Å–ª–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–º–æ–∂–µ—Ç:
1. ‚úÖ –£–≤–∏–¥–µ—Ç—å –≤—Å–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ –∞–±–æ–Ω–µ–º–µ–Ω—Ç—ã —Å —Ü–µ–Ω–∞–º–∏
2. ‚úÖ –í—ã–±—Ä–∞—Ç—å –ø–æ–¥—Ö–æ–¥—è—â–∏–π –∞–±–æ–Ω–µ–º–µ–Ω—Ç
3. ‚úÖ –ü–æ–Ω—è—Ç—å —É—Å–ª–æ–≤–∏—è –∫–∞–∂–¥–æ–≥–æ –∞–±–æ–Ω–µ–º–µ–Ω—Ç–∞
4. ‚úÖ –£–≤–∏–¥–µ—Ç—å —ç–∫–æ–Ω–æ–º–∏—é –ø—Ä–∏ –ø–æ–∫—É–ø–∫–µ –ø–∞–∫–µ—Ç–æ–≤
5. ‚úÖ –í—ã–±—Ä–∞—Ç—å —Ç—Ä–µ–Ω–µ—Ä–∞ (–¥–ª—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö –∞–±–æ–Ω–µ–º–µ–Ω—Ç–æ–≤)
6. ‚úÖ –£–≤–∏–¥–µ—Ç—å –∏—Ç–æ–≥–æ–≤—É—é —Å—Ç–æ–∏–º–æ—Å—Ç—å –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π
7. ‚úÖ –ü–æ–ª—É—á–∏—Ç—å –ø–æ–ª–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –≤ –∑–∞—è–≤–∫–µ (–≤–∫–ª—é—á–∞—è –ø—Ä–∞–π—Å)

---

## üìä –ú–µ—Ç—Ä–∏–∫–∏ —É—Å–ø–µ—Ö–∞

- –£–≤–µ–ª–∏—á–µ–Ω–∏–µ –∫–æ–Ω–≤–µ—Ä—Å–∏–∏ –∑–∞–ø–∏—Å–µ–π –Ω–∞ 30%+
- –°–Ω–∏–∂–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –≤–æ–ø—Ä–æ—Å–æ–≤ –æ —Ü–µ–Ω–∞—Ö –Ω–∞ 50%+
- –£–≤–µ–ª–∏—á–µ–Ω–∏–µ –ø—Ä–æ–¥–∞–∂ –∞–±–æ–Ω–µ–º–µ–Ω—Ç–æ–≤ (vs —Ä–∞–∑–æ–≤—ã—Ö) –Ω–∞ 40%+
- –†–æ—Å—Ç —Å—Ä–µ–¥–Ω–µ–≥–æ —á–µ–∫–∞ —Å 900‚ÇΩ –¥–æ 5000‚ÇΩ+
